<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>MCN 模拟经营 MVP 2.6（修复滑动 & 视频兜底）</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <!-- 顶部 HUD -->
    <header class="hud">
      <div class="hud-left">
        <div class="day">游戏的第 <span id="dayNum">1</span> 天</div>
        <div class="stats">
          <span>💰 <span id="coins">1500</span></span>
          <span>👥 <span id="fans">0</span></span>
        </div>
      </div>
      <div class="hud-right">
        <button id="restartBtn" class="btn btn-ghost">重新开始</button>
        <button id="nextDayBtn" class="btn btn-ghost" disabled>结束当天</button>
      </div>
    </header>
    <div id="dayDoneBanner" class="day-done">今天已行动 ✓ 点击“结束当天”进入明天</div>

    <!-- 目标与总进度 -->
    <section id="goalBar" class="goalbar hidden">
      <div class="goal-line">
        <span class="goal-text">🎯 总目标：<span id="goalText">7天内达成 10,000 粉丝</span></span>
      </div>
      <div class="goal-progress">
        <div class="gp-label">天数进度：<span id="dayProgressLabel">1 / 7</span></div>
        <div class="gp-wrap"><div id="dayProgress" class="gp"></div></div>
      </div>
      <div class="goal-progress">
        <div class="gp-label">粉丝进度：<span id="fanProgressLabel">0 / 10000</span></div>
        <div class="gp-wrap"><div id="fanProgress" class="gp"></div></div>
      </div>
    </section>

    <!-- 招募界面 -->
    <section id="recruitScreen" class="screen active">
      <h1 class="title">招募你的IP（可选 2 位）</h1>
      <p class="sub">每个IP只能签一次。点「详情」查看属性，点「签约」加入团队。</p>
      <div id="recruitList" class="card-grid"></div>
      <div class="recruit-footer">
        <button id="startGameBtn" class="btn btn-primary" disabled>开始游戏</button>
      </div>
    </section>

    <!-- 主游戏界面 -->
    <section id="mainScreen" class="screen">
      <!-- 当前 IP 列表（可切换） -->
      <div id="ipBar" class="ip-bar"></div>

      <!-- 卡牌区（整卡随手势平移/旋转） -->
      <div class="card-area">
        <div id="choiceCard" class="choice-card">
          <div class="badge-left" id="badgeLeft">左：—</div>
          <div class="badge-right" id="badgeRight">右：—</div>

          <div class="card-media">
            <video id="cardVideo" class="card-video" autoplay muted loop playsinline></video>
            <div id="cardFallback" class="card-fallback"></div>
          </div>

          <div class="card-core" id="cardCore">
            <div class="card-prompt" id="cardPrompt">选择内容类型</div>
            <div class="card-title" id="cardTitle">当前IP：—</div>
            <div class="card-desc" id="cardDesc">左：拍视频 ｜ 右：直播</div>
            <div class="upgrade-panel" id="upgradePanel">
              <button class="attr-btn" data-attr="creative">创意力</button>
              <button class="attr-btn" data-attr="talk">表达力</button>
              <button class="attr-btn" data-attr="pro">专业度</button>
              <button class="attr-btn" data-attr="charm">魅力</button>
            </div>
          </div>
        </div>
      </div>

      <div class="progress-wrap">
        <div class="progress" id="progressBar"></div>
      </div>
      <div id="toast" class="toast"></div>

      <div class="footer-bar">
        <div class="footer-info">今日剩余行动：<span id="turnsLeft">0</span></div>
        <button id="upgradeBtn" class="btn-upgrade-mini">升级</button>
      </div>
    </section>
  </div>

  <script>
    window.__AVAILABLE_VIDEOS__ = ["青沼英二.mp4", "山村小杰.mp4", "张大仙.mp4", "李佳琦.mp4", "某律.mp4"];
  </script>
  <script src="script.js"></script>
  <div id="gainLayer" class="gain-layer"></div>
</body>
</html>
